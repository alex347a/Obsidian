### Client-Server Architecture
An always-on host called a server services requests from many clients. The server has a fixed, well-known IP address. Clients do not communicate directly with each other. Examples include the Web, FTP, Telnet, and email. To handle high demand, services often use data centers with many servers to create a powerful virtual server.

### Peer-to-Peer (P2P) Architecture
Minimal reliance on dedicated servers. Instead, the application uses direct communication between intermittently connected hosts (peers), which are user-controlled devices. This architecture is self-scalable (each peer adds capacity by distributing resources) and cost-effective (no major server infrastructure). However, it faces challenges in security, performance, and reliability due to its decentralized nature. An example is the BitTorrent file-sharing protocol. 

### Communcating processes
Communication occurs between processes (running programs) on different end systems by exchanging messages across the network. These processes reside in the application layer.

**Client and Server Processes**  
In any communication session, one process is labeled the client and the other the server:

- The **client** is typically the process that initiates communication.
    
- The **server** is the process that waits to be contacted and responds to requests.  
    In some applications, like P2P, a process can act as both a client and a server in different sessions. For example, in file sharing, peer A downloading a file is the client for that transfer, while peer B uploading a file is the server.

### The Interface Between the Process and the Computer Network

A process communicates by sending and receiving messages through the underlying network via a software interface called a **socket**. A socket is analogous to a door: a process sends a message out through its socket, relying on the network infrastructure to deliver it to the destination process's socket.

As illustrated in Figure 2.3, a socket is the interface between the application layer and the transport layer within a host. It is the **Application Programming Interface (API)** used to build network applications.
![[2.3.png]]
The application developer has control over:
1. The **choice of transport protocol** (e.g., TCP or UDP).
2. The ability to set a few **transport-layer parameters** (e.g., maximum buffer size, maximum segment size).

However, the developer has no control over the transport-layer side beyond these choices. Once the transport protocol is selected, the application is built using the services provided by that protocol. The operating system controls the transport-layer implementation.

### Addressing Processes (IP address and port number)
For a process on one host to send packets to a process on another host, the receiving process must be uniquely identified. This requires two pieces of information:
1. The **IP address** of the destination host.
2. A **port number** that specifies the receiving process (or socket) within that host.

An IP address is a 32-bit quantity that uniquely identifies a host on the Internet. The port number identifies the specific application process on the host, as a single host can run many network applications simultaneously. Well-known applications use standardized port numbers:
- **Web server:** port 80
- **SMTP mail server:** port 25

### Transport Services Available to Applications
The transport-layer protocol, chosen by the application developer, is responsible for delivering messages from the sending socket to the receiving socket. The choice depends on the specific services an application requires. Transport protocols can be evaluated along four key dimensions: reliable data transfer, throughput, timing, and security.

#### Reliable Data Transfer
Networks can lose packets due to buffer overflows or corruption. For many applications (e-mail, file transfer, web documents, financial apps), data loss is devastating. A transport protocol that **guarantees** correct and complete delivery provides **reliable data transfer**. The sending process can pass data into its socket with confidence it will arrive error-free at the receiver. Applications that cannot tolerate loss require this service. Conversely, **loss-tolerant applications** (like conversational audio/video) can tolerate some data loss, which may only cause minor glitches rather than a crucial failure.

#### Throughput
Throughput is the rate at which a sending process can deliver bits to the receiving process. As network conditions change, available throughput can fluctuate. A transport protocol can potentially provide a **guaranteed throughput** service, ensuring the available throughput is always at least at a specified rate (`r` bits/sec).

- **Bandwidth-sensitive applications** require a specific throughput. For example, an Internet telephony application encoding voice at 32 kbps must have this throughput sustained. If it cannot be provided, the application must encode at a lower rate or fail.
    
- **Elastic applications** can use any available throughput, with more being better. Examples include e-mail, file transfer, and web transfers. They do not have a strict minimum requirement.

#### Timing
A transport-layer protocol can provide **timing guarantees**, such as ensuring every bit sent arrives at the receiver's socket within a specified maximum delay (e.g., 100 msec). This service is critical for **interactive real-time applications** like:
- Internet telephony
- Virtual environments
- Teleconferencing
- Multiplayer games

These applications require tight timing constraints to avoid unnatural pauses (in conversation) or lag (in games), which degrade the user experience. For non-real-time applications, lower delay is preferable but not strictly required.
#### Security

A transport protocol can provide **security services**, including:
- **Confidentiality:** Encrypting data on the sending host and decrypting it on the receiving host to prevent eavesdropping.
- **Data Integrity:** Ensuring data is not altered in transit.
- **End-Point Authentication:** Verifying the identity of the communicating processes.

These services protect data even if it is intercepted during transmission.

![[2.4.png]]
### Transport Services Provided by the Internet

The Internet offers two main transport protocols:
1. **UDP (User Datagram Protocol)**
2. **TCP (Transmission Control Protocol)**

When developing a network application, one of the first decisions is choosing between UDP and TCP, as each provides a different set of services.

### TCP Services
TCP provides two key services to applications:
- **Connection-oriented service:** Requires a handshake between client and server to establish a connection before data flow begins. This connection is full-duplex, allowing simultaneous two-way communication. The connection must be torn down after communication is complete.
- **Reliable data transfer:** Guarantees that all data sent is delivered without error, without loss, and in the correct order. A byte stream written to a socket will be received identically on the other end.

TCP also includes a **congestion-control mechanism** that throttles the sending rate when network congestion is detected, aiming to share network bandwidth fairly among all users. This benefits the overall health of the Internet.

### UDP Services

UDP is a lightweight, minimalistic transport protocol offering:
- **Connectionless service:** No handshake is required before communication begins.
- **Unreliable data transfer:** Provides no guarantee that messages will arrive, and those that do may arrive out of order.

UDP does not include congestion control. A sending process can inject data into the network at any rate, though the actual end-to-end throughput may be lower due to link capacity or congestion.
### Securing TCP (TLS)

Neither TCP nor UDP provides inherent encryption. Data sent in cleartext can be intercepted. To address this, **Transport Layer Security (TLS)** was developed as an enhancement to TCP. TLS provides critical security services:
- Encryption (confidentiality)
- Data integrity
- End-point authentication

TLS is not a separate transport protocol but an enhancement to TCP. TLS is implemented in the application layer using specialized libraries. An application passes cleartext data to a TLS socket, which encrypts it and passes it to the TCP socket for transmission. On the receiving end, TLS decrypts the data before delivering it to the application. 

### Application-Layer Protocols
An application-layer protocol defines the rules for communication between application processes running on different end systems. It specifies:

- **Message Types:** The types of messages exchanged (e.g., request messages, response messages).
- **Syntax:** The structure of messages, including how fields are defined and delineated.
- **Semantics:** The meaning of the information within each field.
- **Rules:** The timing for sending messages and how processes should respond.

Some protocols, like HTTP (for the Web), are public standards defined in RFCs. Others, like those used by Skype, are proprietary. It is crucial to distinguish between a **network application** (e.g., the Web, which includes browsers, servers, and document formats) and an **application-layer protocol** (e.g., HTTP, which defines the message exchange rules between browsers and servers). The protocol is a key component of the larger application.

### Network Applications
1. **The Web:** Uses HTTP. A client-server application for on-demand document retrieval.
2. **Electronic Mail:** Uses several application-layer protocols (e.g., SMTP).
3. **Directory Service (DNS):** Translates domain names to IP addresses. Invoked indirectly by other applications.
4. **Peer-to-Peer (P2P) Applications:** For file sharing and other decentralized services.
5. **Video Streaming:** Uses protocols like DASH for on-demand video delivery.

### The Web and HTTP
The World Wide Web, emerging in the early 1990s, revolutionized public access to the Internet. Its key features include:
- **On-Demand Operation:** Users access content when they want it.
- **Ease of Publishing:** Low cost for individuals to make information available.
- **Navigation Aids:** Hyperlinks and search engines facilitate information discovery.
- **Rich Content:** Supports photos, videos, and interactive elements via forms and JavaScript.
- **Platform Function:** Serves as the foundation for many other applications (e.g., YouTube, Gmail, Instagram, Google Maps).

The Web's application-layer protocol, HTTP, defines how browsers and servers communicate.